<!DOCTYPE html>
<html>

<head>
    <meta name="generator" content="Hugo 0.16" />
        
        <link rel="icon" type="image/png" href="/images/favicon.ico">

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="My thoughts and rambles">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Docstore</title>
        
        <meta name="mobile-web-app-capable" content="yes">
        <link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png">
        
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="apple-mobile-web-app-title" content="Material Design Lite">
        <link rel="apple-touch-icon-precomposed" href="apple-touch-icon-precomposed.png">
        
        <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
        <meta name="msapplication-TileColor" content="#3372DF">

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"/>
        <link rel="stylesheet" href="/css/ionicons.min.css"/>
        <link rel="stylesheet" href="/css/material.grey-orange.min.css"/>
        <link rel="stylesheet" href="/css/styles.css"/>
          
</head>

<body>
    
        
            <div class="hugo-blog hugo-blog--blogpost mdl-layout mdl-js-layout has-drawer is-upgraded">
        
    

        
    <header class="mdl-layout__header mdl-layout__header--transparent mdl-layout__header--scroll">
        <div class="mdl-layout__header-row">
            
            
            
            <div class="mdl-layout-spacer"></div>
            
            <nav class="mdl-navigation">
                <a class='mdl-navigation__link ' href="/">Home</a>
                <a class='mdl-navigation__link ' href="/post">Articles</a>
                <a class='mdl-navigation__link ' href="/project">Projects</a>
                <a class='mdl-navigation__link ' href="/about">About</a>
            </nav>
        </div>
    </header>
    <div class="mdl-layout__drawer">
        
        <nav class="mdl-navigation">
            <a class='mdl-navigation__link ' href="/">Home</a>
            <a class='mdl-navigation__link ' href="/post">Articles</a>
            <a class='mdl-navigation__link ' href="/project">Projects</a>
            <a class='mdl-navigation__link ' href="/about">About</a>
        </nav>
    </div>
    
    <main class="mdl-layout__content">


<div class="hugo-blog__posts mdl-grid">
    <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">
        <div class="mdl-card__media mdl-color-text--grey-50" style=" background-color:#1565C0;">
            <h3 >Docstore</h3>
        </div>
        
        <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">
            
            <div>
                <strong>Daniel Mashuda</strong>
                <span>Jun 16, 2016</span>
            </div>
            <div class="section-spacer"></div>
            <div><span>
                
                    <a id="repolink" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="https://github.com/dmashuda/docstore"><i class="material-icons icon ion-social-github"></i><span class="visuallyhidden">Github</span></a>
                    <span for="repolink" class="mdl-tooltip">Code Repository</span>
                
                
            </span></div>
        </div>
            
        <div class="mdl-color-text--grey-700 mdl-card__supporting-text hugo-content">
            

<h1 id="docstore">Docstore</h1>

<p>Document(file) Storage abstraction for golang</p>

<h2 id="overview">Overview</h2>

<ul>
<li>Single Basic Interface for storing and retrieving documents</li>
<li>Store and retrieve documents based on keys</li>
<li>Implementations

<ul>
<li>Amazon S3</li>
<li>File system</li>
</ul></li>
</ul>

<h2 id="getting-started">Getting Started</h2>

<p>Installing:</p>

<pre><code> go get github.com/dmashuda/docstore
</code></pre>

<h2 id="configuring-credentials-for-aws">Configuring Credentials For AWS</h2>

<p>Before using the SDK, ensure that you&rsquo;ve configured credentials. The best
way to configure credentials on a development machine is to use the
<code>~/.aws/credentials</code> file, which might look like:</p>

<pre><code>[default]
aws_access_key_id = AKID1234567890
aws_secret_access_key = MY-SECRET-KEY
</code></pre>

<p>You can learn more about the credentials file from this
<a href="http://blogs.aws.amazon.com/security/post/Tx3D6U6WSFGOK2H/A-New-and-Standardized-Way-to-Manage-Credentials-in-the-AWS-SDKs">blog post</a>.</p>

<p>Alternatively, you can set the following environment variables:</p>

<pre><code>AWS_ACCESS_KEY_ID=AKID1234567890
AWS_SECRET_ACCESS_KEY=MY-SECRET-KEY
</code></pre>

<h2 id="example">Example</h2>

<h3 id="storage-creation">Storage Creation</h3>

<pre><code>// Creates new Storer backed by an S3 Bucket
var storage docstore.Storer = docstore.BasicAws(&quot;us-east-1&quot;, &quot;dmashuda-dev&quot;)

// Creates new Storer backed by a file system
var storage docstore.Storer = docstore.NewFileStore(&quot;/Volumes/storage&quot;)
</code></pre>

<h3 id="storing-a-document">Storing a document</h3>

<pre><code>// Prepares putObj with ioreader and Identifier
file, _ := os.Open(fileName)
putObj := docstore.CreateObj{
  Identifier: fileName,
  Body:       file,
}
//store the photo
//errors ignored
id, err := storage.Put(putObj)
</code></pre>

<h3 id="retrieving-a-document">Retrieving a document</h3>

<pre><code>getObj, _ := storage.Get(fileName)

newFile := os.Create(&quot;newFile.jpg&quot;)
defer newFile.Close()
numBytes, err := io.Copy(newFile, getObj.Body)
</code></pre>

<h2 id="contributing">Contributing</h2>

<p><a href="https://github.com/dmashuda/docstore/graphs/contributors">https://github.com/dmashuda/docstore/graphs/contributors</a>
 - Pull requests welcome
 - Feel free to add new docstore.Storer Implementations</p>

<h2 id="license">License</h2>

<p>Released under the <a href="https://github.com/jinzhu/gorm/blob/master/License">MIT License</a>.</p>

        </div>
        
        <div class="mdl-color-text--primary-contrast mdl-card__supporting-text comments"> 
            <a href="danmashuda.com">Daniel Mashuda</a>
            <p>Software Engineer</p>
        </div>  
    </div>
    <nav class="hugo-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    
    <a href="/project/go-imgur/" class="hugo-nav__button">
        <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
           <i class="icon ion-android-arrow-back"></i>
        </button>
        Older
    </a>
    <div class="section-spacer"></div>
    
</nav> 
</div>
            <footer class="mdl-mini-footer">
                <div class="mdl-mini-footer--left-section">
                    
<a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-mini-footer--social-btn social-btn" href="mailto:dmashuda@ycp.edu?subject=Hi">
    <i class="material-icons_lg icon ion-email"></i>
    <span class="visuallyhidden">Email</span>
</a>



<a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-mini-footer--social-btn social-btn" href="https://github.com/dmashuda/">
    <i class="material-icons_lg icon ion-social-github"></i>
    <span class="visuallyhidden">Github</span>
</a>




                </div>
                <div class="mdl-mini-footer--right-section">
                    <span>Â© 2015 Daniel Mashuda</span>
                </div>
            </footer>
        </main>
        <div class="mdl-layout__obfuscator"></div>
    </div>
    <script src="/js/material.min.js"></script>
     
    
</body>
</html>

